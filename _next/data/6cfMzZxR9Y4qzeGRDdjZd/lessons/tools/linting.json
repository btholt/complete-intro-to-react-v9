{"pageProps":{"post":{"attributes":{"title":"ESLint","description":"Learn how to set up and configure ESLint with Prettier for effective JavaScript code linting in your React projects, featuring tools like ESLint's JS config and globals package, under the guidance of seasoned developer Brian Holt.","keywords":["ESLint","Prettier","JavaScript","react","Brian Holt"]},"html":"<h2>ESLint</h2>\n<p>On top of Prettier which takes of all the formatting, you may want to enforce some code styles which pertain more to usage: for example you may want to force people to never use <code>with</code> which is valid JS but ill advised to use. <a href=\"https://eslint.org\">ESLint</a> comes into play here. It will lint for these problems.</p>\n<p>First of all, run <code>npm install -D eslint@9.9.1 eslint-config-prettier@9.1.0 globals@15.9.0</code> to install ESLint in your project development dependencies. Then you may configure it.</p>\n<p>There are dozens of preset configs for ESLint and you&#39;re welcome to use any one of them. The <a href=\"https://github.com/airbnb/javascript\">Airbnb config</a> is very popular, as is the standard config (both of which I taught in previous versions of this class). I&#39;m going to use a looser one for this class: the recommended JS config from ESLint. Let&#39;s create an <code>eslint.config.mjs</code> file to start linting our project.</p>\n<blockquote>\n<p>We&#39;re using .mjs (module JS) because we want to use import/export for modules instead of require.</p>\n</blockquote>\n<p>Add this to the <code>eslint.config.mjs</code> file:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> js <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;@eslint/js&quot;</span>;\n<span class=\"hljs-keyword\">import</span> globals <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;globals&quot;</span>;\n<span class=\"hljs-keyword\">import</span> prettier <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;eslint-config-prettier&quot;</span>;\n\n<span class=\"hljs-comment\">/** <span class=\"hljs-doctag\">@type</span> {<span class=\"hljs-type\">import(&#x27;eslint&#x27;).Linter.Config[]</span>} */</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> [\n  js.<span class=\"hljs-property\">configs</span>.<span class=\"hljs-property\">recommended</span>,\n  {\n    <span class=\"hljs-attr\">files</span>: [<span class=\"hljs-string\">&quot;**/*.js&quot;</span>],\n    <span class=\"hljs-attr\">languageOptions</span>: {\n      <span class=\"hljs-attr\">globals</span>: { ...globals.<span class=\"hljs-property\">browser</span>, ...globals.<span class=\"hljs-property\">node</span> },\n      <span class=\"hljs-attr\">parserOptions</span>: {\n        <span class=\"hljs-attr\">ecmaFeatures</span>: {\n          <span class=\"hljs-attr\">jsx</span>: <span class=\"hljs-literal\">true</span>,\n        },\n      },\n    },\n  },\n  prettier,\n];\n</code></pre><ul>\n<li>ESLint changed a lot with version 9. In previous versions of this course we used the JSON version of configuration which is no longer supported. You <em>have</em> to do their newer &quot;flat&quot; version of config (honestly it is better.)</li>\n<li>The <code>/** @type {import(&#39;eslint&#39;).Linter.Config[]} */</code> is a VS Code / TypeScript trick to be able to do auto-completions on the config object. Super helpful to have the types available right in VS Code. It&#39;s not required.</li>\n<li><a href=\"https://www.npmjs.com/package/globals\">globals</a> is a package that is just a big JSON file of what&#39;s available in each environment. We&#39;re going to be in Node.js and Browser environments so we grabbed those two. If I was being a bit more discerning I&#39;d carefully only apply browser configs to browser files and Node configs to Node.js files.</li>\n<li>The config objects are applied in order. We did ESLint&#39;s JS config first, and then our custom one so we can overwrite it where we want to, and then the Prettier one should always come last as all it does is turn off rules that Prettier itself does; it doesn&#39;t add anything.</li>\n</ul>\n<p>This is a combination of the recommended configs of ESLint and Prettier. This will lint for both normal JS stuff as well as JSX stuff. Let&#39;s add ESLint to our scripts:</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-attr\">&quot;lint&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;eslint&quot;</span><span class=\"hljs-punctuation\">,</span>\n</code></pre><p>Run <code>npm run lint</code> now and you should see we have a few errors.</p>\n<blockquote>\n<p>ðŸš¨ ESLint will have a bunch of errors right now. Ignore them; we&#39;ll fix them in a sec.</p>\n</blockquote>\n<p>Worth adding three things here:</p>\n<ul>\n<li>With npm scripts, you can pass additional parameters to the command if you want. Just add a <code>--</code> and then put whatever else you want to tack on after that. For example, if I wanted to get the debug output from ESLint, I could run <code>npm run lint -- --debug</code> which would translate to <code>eslint --debug</code>.</li>\n<li>We can use our fix trick this way: <code>npm run lint -- --fix</code>.</li>\n<li>We&#39;re going to use both JS and JSX.</li>\n</ul>\n<p>ESLint is a cinch to get working with <a href=\"https://code.visualstudio.com/\">Visual Studio Code</a>. Just download <a href=\"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\">the extension</a>.</p>\n<h2>oxlint and Biome</h2>\n<p>Two projects to watch going forward here: <a href=\"https://biomejs.dev/\">Biome</a> (formerly called Rome) and <a href=\"https://oxc.rs/docs/guide/usage/linter.html\">oxlint</a>. Both are written in Rust and designed to be faster than ESLint (which is written in JavaScript). ESLint at huge scale can be a bit slow and these two projects aim to fix that bottleneck. I&#39;d still say it&#39;s early days on these projects and 99% of the time ESLint is fast enough. Still, good to keep an eye on both of the projects. Eventually both projects aim to replace Prettier as well.</p>\n","markdown":"\n## ESLint\n\nOn top of Prettier which takes of all the formatting, you may want to enforce some code styles which pertain more to usage: for example you may want to force people to never use `with` which is valid JS but ill advised to use. [ESLint][eslint] comes into play here. It will lint for these problems.\n\nFirst of all, run `npm install -D eslint@9.9.1 eslint-config-prettier@9.1.0 globals@15.9.0` to install ESLint in your project development dependencies. Then you may configure it.\n\nThere are dozens of preset configs for ESLint and you're welcome to use any one of them. The [Airbnb config][airbnb] is very popular, as is the standard config (both of which I taught in previous versions of this class). I'm going to use a looser one for this class: the recommended JS config from ESLint. Let's create an `eslint.config.mjs` file to start linting our project.\n\n> We're using .mjs (module JS) because we want to use import/export for modules instead of require.\n\nAdd this to the `eslint.config.mjs` file:\n\n```js\nimport js from \"@eslint/js\";\nimport globals from \"globals\";\nimport prettier from \"eslint-config-prettier\";\n\n/** @type {import('eslint').Linter.Config[]} */\nexport default [\n  js.configs.recommended,\n  {\n    files: [\"**/*.js\"],\n    languageOptions: {\n      globals: { ...globals.browser, ...globals.node },\n      parserOptions: {\n        ecmaFeatures: {\n          jsx: true,\n        },\n      },\n    },\n  },\n  prettier,\n];\n```\n\n- ESLint changed a lot with version 9. In previous versions of this course we used the JSON version of configuration which is no longer supported. You _have_ to do their newer \"flat\" version of config (honestly it is better.)\n- The `/** @type {import('eslint').Linter.Config[]} */` is a VS Code / TypeScript trick to be able to do auto-completions on the config object. Super helpful to have the types available right in VS Code. It's not required.\n- [globals][globals] is a package that is just a big JSON file of what's available in each environment. We're going to be in Node.js and Browser environments so we grabbed those two. If I was being a bit more discerning I'd carefully only apply browser configs to browser files and Node configs to Node.js files.\n- The config objects are applied in order. We did ESLint's JS config first, and then our custom one so we can overwrite it where we want to, and then the Prettier one should always come last as all it does is turn off rules that Prettier itself does; it doesn't add anything.\n\nThis is a combination of the recommended configs of ESLint and Prettier. This will lint for both normal JS stuff as well as JSX stuff. Let's add ESLint to our scripts:\n\n```json\n\"lint\": \"eslint\",\n```\n\nRun `npm run lint` now and you should see we have a few errors.\n\n> ðŸš¨ ESLint will have a bunch of errors right now. Ignore them; we'll fix them in a sec.\n\nWorth adding three things here:\n\n- With npm scripts, you can pass additional parameters to the command if you want. Just add a `--` and then put whatever else you want to tack on after that. For example, if I wanted to get the debug output from ESLint, I could run `npm run lint -- --debug` which would translate to `eslint --debug`.\n- We can use our fix trick this way: `npm run lint -- --fix`.\n- We're going to use both JS and JSX.\n\nESLint is a cinch to get working with [Visual Studio Code][vscode]. Just download [the extension][vscode-eslint].\n\n## oxlint and Biome\n\nTwo projects to watch going forward here: [Biome][biome] (formerly called Rome) and [oxlint][oxlint]. Both are written in Rust and designed to be faster than ESLint (which is written in JavaScript). ESLint at huge scale can be a bit slow and these two projects aim to fix that bottleneck. I'd still say it's early days on these projects and 99% of the time ESLint is fast enough. Still, good to keep an eye on both of the projects. Eventually both projects aim to replace Prettier as well.\n\n[eslint]: https://eslint.org\n[vscode-eslint]: https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\n[airbnb]: https://github.com/airbnb/javascript\n[vscode]: https://code.visualstudio.com/\n[biome]: https://biomejs.dev/\n[oxlint]: https://oxc.rs/docs/guide/usage/linter.html\n[globals]: https://www.npmjs.com/package/globals\n","slug":"linting","title":"ESLint","section":"Tools","icon":"screwdriver-wrench","filePath":"/home/runner/work/complete-intro-to-react-v9/complete-intro-to-react-v9/lessons/03-tools/C-linting.md","nextSlug":"/lessons/tools/git","prevSlug":"/lessons/tools/code-formatting"}},"__N_SSG":true}