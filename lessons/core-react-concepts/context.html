<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/images/favicon.ico"/><title>Context ‚Äì Complete Intro to React</title><meta name="description" content="Learn how to manage global state in a React application by implementing a shopping cart using context. This tutorial, part of the Complete Intro to React v9 course by Brian Holt, guides you in creating reusable components and sharing state across the application without prop drilling, enhancing your React skills with practical examples."/><meta name="keywords" content="React,shopping cart,context API,global state,Brian Holt"/><meta name="og:description" content="Learn how to manage global state in a React application by implementing a shopping cart using context. This tutorial, part of the Complete Intro to React v9 course by Brian Holt, guides you in creating reusable components and sharing state across the application without prop drilling, enhancing your React skills with practical examples."/><meta name="og:title" content="Context ‚Äì Complete Intro to React"/><meta name="og:image" content="/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="14"/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/2fea0762771cca66.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2fea0762771cca66.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-4e7214a60fad8e88.js" defer=""></script><script src="/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/_next/static/chunks/main-a6a08e1f60796d6f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8844ca430b4a38f8.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-f133ec3e69124099.js" defer=""></script><script src="/_next/static/6cfMzZxR9Y4qzeGRDdjZd/_buildManifest.js" defer=""></script><script src="/_next/static/6cfMzZxR9Y4qzeGRDdjZd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to React</a></h1><div class="navbar-info"><a href="https://holt.fyi/react" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><h2>Context</h2>
<p>Let&#39;s make a cart indicator on the top right of the page. Create a file called Header.jsx and put this in there.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;logo&quot;</span>&gt;</span>Padre Gino&#x27;s Pizza<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;nav-cart&quot;</span>&gt;</span>
        üõí<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;nav-cart-number&quot;</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
  );
}
</code></pre><p>Now let&#39;s use that in App.jsx</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// at top</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Header&quot;</span>;

<span class="hljs-comment">// replace .logo</span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span>
</code></pre><p>Right now this will always show 5 but we want that number in .nav-cart-number to reflect how many items we have in our cart. How would we do that? We could move all of cart and its hooks to App.jsx and pass it into both Header and Order. In an app this small, that could be the right choice. But let&#39;s look at another way to do it, context.</p>
<p>Context is for app-level state. This is state that exists for your entire app. The currently logged in user would be a good example of this. You wouldn&#39;t want the user to exist in just the page level because once you navigate to another page, all state of the previous page is destroyed. You&#39;d want that user info to persist between pages, and thus context is a good thing for that. Context allows you to keep a global state for your app. We&#39;re going to use it for the shopping cart which actually makes good sense: if a user navigates to another page, you&#39;d want to keep their shopping cart between loads. This is a good way to think about when you may want to use context: if you want that stage to persist between pages.</p>
<p>So let&#39;s make it work. Make a file called <code>contexts.jsx</code>. It&#39;s not a component so I tend to not capitalize it. The React docs do capitalize it. Up to you.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { createContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CartContext</span> = <span class="hljs-title function_">createContext</span>([[], <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {}]);
</code></pre><p>That&#39;s it. Pretty simple. It&#39;s called contexts with an <code>s</code> because if you had other contexts (like a UserContext) you could put those all in the same file. The <code>[[], function () {}]</code> isn&#39;t strictly necessary; it&#39;s a default value your context would use if no context provider is there (which should never happen.) This really only ends up being useful for TypeScript types ‚Äì the type you give here is what TypeScript will use to validate it. In theory it could be helpful for testing too. The reason for the weird value is that it&#39;s a React hook: an array where the first value is an array (like our cart is) and the second value is a function (the setCart function).</p>
<p>Okay, let&#39;s go put it in App.jsx.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// at the top</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StrictMode</span>, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>; <span class="hljs-comment">// need useState</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CartContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./contexts&quot;</span>;

<span class="hljs-comment">// replace App</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> cartHook = <span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">CartContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{cartHook}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Order</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">PizzaOfTheDay</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">CartContext.Provider</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
  );
};
</code></pre><p>We&#39;re creating a hook (notice we are not destructuring) and passing that in as the value. The Provider makes that context available only inside of its children. In theory you could have multiple providers from the same context but honestly I&#39;ve never had a reason to do it.</p>
<p>Alright, let&#39;s go make Order.jsx work now.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// at top</span>
<span class="hljs-keyword">import</span> { useState, useEffect, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>; <span class="hljs-comment">// need useContext</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CartContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./contexts&quot;</span>;

<span class="hljs-keyword">const</span> [cart, setCart] = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">CartContext</span>); <span class="hljs-comment">// change cart hook to use context</span>
</code></pre><p>That&#39;s it! Everything else works the same. In our case we&#39;re just using a hook directly from context, but you can put anything in context; it doesn&#39;t have to be a hook.</p>
<p>Let&#39;s go use it in our Header now too.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// at top</span>
<span class="hljs-keyword">import</span> { useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CartContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./contexts&quot;</span>;

<span class="hljs-comment">// top of function</span>
<span class="hljs-keyword">const</span> [cart] = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">CartContext</span>);

<span class="hljs-comment">// replace span number</span>
üõí&lt;span className=<span class="hljs-string">&quot;nav-cart-number&quot;</span>&gt;{cart.<span class="hljs-property">length</span>}&lt;/span&gt;
</code></pre><p>That&#39;s it! We don&#39;t need the setCart function so we don&#39;t import that. Otherwise all looks pretty normal!</p>
<p>So that&#39;s context. It&#39;s super useful for stuff like this where we don&#39;t want to &quot;prop drill&quot; our state everywhere. Since cart is now being held at the App level, we definitely could have just said <code>&lt;Header cart={cart} /&gt;</code> and called it a day, and in this specific use case I would have. But now imagine if Header was super deeply nested and you had to pass that state down a lot of children components ‚Äì it gets messy quickly. This is what we call prop drilling. React&#39;s explicit data flow is a feature, not a bug. It makes where data came from and where data is going very readable. But it can make your code verbose in a non-helpful way, and context is an escape hatch for that. In general, use context sparingly and only where it&#39;s <em>really</em> inconvenient to just do it the normal way of using props.</p>
<blockquote>
<p>üèÅ <a href="https://github.com/btholt/citr-v9-project/tree/master/08-context">Click here to see the state of the project up until now: 08-context</a></p>
</blockquote>
</div><div class="lesson-links"><a href="/lessons/core-react-concepts/handling-user-inputs" class="prev">‚Üê Previous</a><a href="/lessons/ecosystem/tanstack-router" class="next">Next ‚Üí</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="auto" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="auto"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"Learn how to manage global state in a React application by implementing a shopping cart using context. This tutorial, part of the Complete Intro to React v9 course by Brian Holt, guides you in creating reusable components and sharing state across the application without prop drilling, enhancing your React skills with practical examples.","keywords":["React","shopping cart","context API","global state","Brian Holt"]},"html":"\u003ch2\u003eContext\u003c/h2\u003e\n\u003cp\u003eLet\u0026#39;s make a cart indicator on the top right of the page. Create a file called Header.jsx and put this in there.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eHeader\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003enav\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;logo\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003ePadre Gino\u0026#x27;s Pizza\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;nav-cart\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        üõí\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;nav-cart-number\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e5\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003enav\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow let\u0026#39;s use that in App.jsx\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// at top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHeader\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./Header\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// replace .logo\u003c/span\u003e\n\u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eHeader\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eRight now this will always show 5 but we want that number in .nav-cart-number to reflect how many items we have in our cart. How would we do that? We could move all of cart and its hooks to App.jsx and pass it into both Header and Order. In an app this small, that could be the right choice. But let\u0026#39;s look at another way to do it, context.\u003c/p\u003e\n\u003cp\u003eContext is for app-level state. This is state that exists for your entire app. The currently logged in user would be a good example of this. You wouldn\u0026#39;t want the user to exist in just the page level because once you navigate to another page, all state of the previous page is destroyed. You\u0026#39;d want that user info to persist between pages, and thus context is a good thing for that. Context allows you to keep a global state for your app. We\u0026#39;re going to use it for the shopping cart which actually makes good sense: if a user navigates to another page, you\u0026#39;d want to keep their shopping cart between loads. This is a good way to think about when you may want to use context: if you want that stage to persist between pages.\u003c/p\u003e\n\u003cp\u003eSo let\u0026#39;s make it work. Make a file called \u003ccode\u003econtexts.jsx\u003c/code\u003e. It\u0026#39;s not a component so I tend to not capitalize it. The React docs do capitalize it. Up to you.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { createContext } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCartContext\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003ecreateContext\u003c/span\u003e([[], \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {}]);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat\u0026#39;s it. Pretty simple. It\u0026#39;s called contexts with an \u003ccode\u003es\u003c/code\u003e because if you had other contexts (like a UserContext) you could put those all in the same file. The \u003ccode\u003e[[], function () {}]\u003c/code\u003e isn\u0026#39;t strictly necessary; it\u0026#39;s a default value your context would use if no context provider is there (which should never happen.) This really only ends up being useful for TypeScript types ‚Äì the type you give here is what TypeScript will use to validate it. In theory it could be helpful for testing too. The reason for the weird value is that it\u0026#39;s a React hook: an array where the first value is an array (like our cart is) and the second value is a function (the setCart function).\u003c/p\u003e\n\u003cp\u003eOkay, let\u0026#39;s go put it in App.jsx.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// at the top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eStrictMode\u003c/span\u003e, useState } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// need useState\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eCartContext\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./contexts\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// replace App\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eApp\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e cartHook = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e([]);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eStrictMode\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eCartContext.Provider\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{cartHook}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eHeader\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eOrder\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ePizzaOfTheDay\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eCartContext.Provider\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eStrictMode\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n};\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe\u0026#39;re creating a hook (notice we are not destructuring) and passing that in as the value. The Provider makes that context available only inside of its children. In theory you could have multiple providers from the same context but honestly I\u0026#39;ve never had a reason to do it.\u003c/p\u003e\n\u003cp\u003eAlright, let\u0026#39;s go make Order.jsx work now.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// at top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useState, useEffect, useContext } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// need useContext\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eCartContext\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./contexts\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [cart, setCart] = \u003cspan class=\"hljs-title function_\"\u003euseContext\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eCartContext\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// change cart hook to use context\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat\u0026#39;s it! Everything else works the same. In our case we\u0026#39;re just using a hook directly from context, but you can put anything in context; it doesn\u0026#39;t have to be a hook.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s go use it in our Header now too.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// at top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useContext } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eCartContext\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./contexts\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// top of function\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [cart] = \u003cspan class=\"hljs-title function_\"\u003euseContext\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eCartContext\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// replace span number\u003c/span\u003e\nüõí\u0026lt;span className=\u003cspan class=\"hljs-string\"\u003e\u0026quot;nav-cart-number\u0026quot;\u003c/span\u003e\u0026gt;{cart.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e}\u0026lt;/span\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat\u0026#39;s it! We don\u0026#39;t need the setCart function so we don\u0026#39;t import that. Otherwise all looks pretty normal!\u003c/p\u003e\n\u003cp\u003eSo that\u0026#39;s context. It\u0026#39;s super useful for stuff like this where we don\u0026#39;t want to \u0026quot;prop drill\u0026quot; our state everywhere. Since cart is now being held at the App level, we definitely could have just said \u003ccode\u003e\u0026lt;Header cart={cart} /\u0026gt;\u003c/code\u003e and called it a day, and in this specific use case I would have. But now imagine if Header was super deeply nested and you had to pass that state down a lot of children components ‚Äì it gets messy quickly. This is what we call prop drilling. React\u0026#39;s explicit data flow is a feature, not a bug. It makes where data came from and where data is going very readable. But it can make your code verbose in a non-helpful way, and context is an escape hatch for that. In general, use context sparingly and only where it\u0026#39;s \u003cem\u003ereally\u003c/em\u003e inconvenient to just do it the normal way of using props.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüèÅ \u003ca href=\"https://github.com/btholt/citr-v9-project/tree/master/08-context\"\u003eClick here to see the state of the project up until now: 08-context\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n","markdown":"\n## Context\n\nLet's make a cart indicator on the top right of the page. Create a file called Header.jsx and put this in there.\n\n```javascript\nexport default function Header() {\n  return (\n    \u003cnav\u003e\n      \u003ch1 className=\"logo\"\u003ePadre Gino's Pizza\u003c/h1\u003e\n      \u003cdiv className=\"nav-cart\"\u003e\n        üõí\u003cspan className=\"nav-cart-number\"\u003e5\u003c/span\u003e\n      \u003c/div\u003e\n    \u003c/nav\u003e\n  );\n}\n```\n\nNow let's use that in App.jsx\n\n```javascript\n// at top\nimport Header from \"./Header\";\n\n// replace .logo\n\u003cHeader /\u003e\n```\n\nRight now this will always show 5 but we want that number in .nav-cart-number to reflect how many items we have in our cart. How would we do that? We could move all of cart and its hooks to App.jsx and pass it into both Header and Order. In an app this small, that could be the right choice. But let's look at another way to do it, context.\n\nContext is for app-level state. This is state that exists for your entire app. The currently logged in user would be a good example of this. You wouldn't want the user to exist in just the page level because once you navigate to another page, all state of the previous page is destroyed. You'd want that user info to persist between pages, and thus context is a good thing for that. Context allows you to keep a global state for your app. We're going to use it for the shopping cart which actually makes good sense: if a user navigates to another page, you'd want to keep their shopping cart between loads. This is a good way to think about when you may want to use context: if you want that stage to persist between pages.\n\nSo let's make it work. Make a file called `contexts.jsx`. It's not a component so I tend to not capitalize it. The React docs do capitalize it. Up to you.\n\n```javascript\nimport { createContext } from \"react\";\n\nexport const CartContext = createContext([[], function () {}]);\n```\n\nThat's it. Pretty simple. It's called contexts with an `s` because if you had other contexts (like a UserContext) you could put those all in the same file. The `[[], function () {}]` isn't strictly necessary; it's a default value your context would use if no context provider is there (which should never happen.) This really only ends up being useful for TypeScript types ‚Äì the type you give here is what TypeScript will use to validate it. In theory it could be helpful for testing too. The reason for the weird value is that it's a React hook: an array where the first value is an array (like our cart is) and the second value is a function (the setCart function).\n\nOkay, let's go put it in App.jsx.\n\n```javascript\n// at the top\nimport { StrictMode, useState } from \"react\"; // need useState\nimport { CartContext } from \"./contexts\";\n\n// replace App\nconst App = () =\u003e {\n  const cartHook = useState([]);\n  return (\n    \u003cStrictMode\u003e\n      \u003cCartContext.Provider value={cartHook}\u003e\n        \u003cdiv\u003e\n          \u003cHeader /\u003e\n          \u003cOrder /\u003e\n          \u003cPizzaOfTheDay /\u003e\n        \u003c/div\u003e\n      \u003c/CartContext.Provider\u003e\n    \u003c/StrictMode\u003e\n  );\n};\n```\n\nWe're creating a hook (notice we are not destructuring) and passing that in as the value. The Provider makes that context available only inside of its children. In theory you could have multiple providers from the same context but honestly I've never had a reason to do it.\n\nAlright, let's go make Order.jsx work now.\n\n```javascript\n// at top\nimport { useState, useEffect, useContext } from \"react\"; // need useContext\nimport { CartContext } from \"./contexts\";\n\nconst [cart, setCart] = useContext(CartContext); // change cart hook to use context\n```\n\nThat's it! Everything else works the same. In our case we're just using a hook directly from context, but you can put anything in context; it doesn't have to be a hook.\n\nLet's go use it in our Header now too.\n\n```javascript\n// at top\nimport { useContext } from \"react\";\nimport { CartContext } from \"./contexts\";\n\n// top of function\nconst [cart] = useContext(CartContext);\n\n// replace span number\nüõí\u003cspan className=\"nav-cart-number\"\u003e{cart.length}\u003c/span\u003e\n```\n\nThat's it! We don't need the setCart function so we don't import that. Otherwise all looks pretty normal!\n\nSo that's context. It's super useful for stuff like this where we don't want to \"prop drill\" our state everywhere. Since cart is now being held at the App level, we definitely could have just said `\u003cHeader cart={cart} /\u003e` and called it a day, and in this specific use case I would have. But now imagine if Header was super deeply nested and you had to pass that state down a lot of children components ‚Äì it gets messy quickly. This is what we call prop drilling. React's explicit data flow is a feature, not a bug. It makes where data came from and where data is going very readable. But it can make your code verbose in a non-helpful way, and context is an escape hatch for that. In general, use context sparingly and only where it's _really_ inconvenient to just do it the normal way of using props.\n\n\u003e üèÅ [Click here to see the state of the project up until now: 08-context][step]\n\n[step]: https://github.com/btholt/citr-v9-project/tree/master/08-context\n","slug":"context","title":"Context","section":"Core React Concepts","icon":"book","filePath":"/home/runner/work/complete-intro-to-react-v9/complete-intro-to-react-v9/lessons/04-core-react-concepts/G-context.md","nextSlug":"/lessons/ecosystem/tanstack-router","prevSlug":"/lessons/core-react-concepts/handling-user-inputs"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"core-react-concepts","slug":"context"},"buildId":"6cfMzZxR9Y4qzeGRDdjZd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>