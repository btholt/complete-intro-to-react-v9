<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/images/favicon.ico"/><title>Custom Hooks – Complete Intro to React</title><meta name="description" content="Learn about creating custom hooks in React with Brian Holt&#x27;s Complete Intro to React, covering how to build and integrate a custom hook for fetching pizza of the day using React hooks for effective separation and testability. Brian demonstrates building a component and using debug tools to inspect React custom hooks efficiently."/><meta name="keywords" content="custom hooks,React hooks,Brian Holt,pizza of the day,debug value"/><meta name="og:description" content="Learn about creating custom hooks in React with Brian Holt&#x27;s Complete Intro to React, covering how to build and integrate a custom hook for fetching pizza of the day using React hooks for effective separation and testability. Brian demonstrates building a component and using debug tools to inspect React custom hooks efficiently."/><meta name="og:title" content="Custom Hooks – Complete Intro to React"/><meta name="og:image" content="/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="14"/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/2fea0762771cca66.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2fea0762771cca66.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-4e7214a60fad8e88.js" defer=""></script><script src="/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/_next/static/chunks/main-a6a08e1f60796d6f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8844ca430b4a38f8.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-f133ec3e69124099.js" defer=""></script><script src="/_next/static/6cfMzZxR9Y4qzeGRDdjZd/_buildManifest.js" defer=""></script><script src="/_next/static/6cfMzZxR9Y4qzeGRDdjZd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to React</a></h1><div class="navbar-info"><a href="https://holt.fyi/react" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><h2>Custom Hooks</h2>
<p>One thing that&#39;s pretty special about hooks is their composability. You can use hooks to make other hooks! People tend to call these custom hooks. There are even people who go as far to say &quot;never make an API request in a component, always do it in a hook.&quot; I don&#39;t know if I&#39;m as hardcore as that but I see the logic in it. If you make a custom hook for those sorts of things they become individually testable and do a good job to separate your display of data and your logic to acquire data. I&#39;m more in the camp of make custom hooks for either complicated logic or reusable logic, but for simple cases it&#39;s okay to keep things simple.</p>
<p>Okay, so we want to add a &quot;Pizza of the Day&quot; banner at the bottom of our page. This necessitates calling a special API to get the pizza of the day (which should change every day based on your computer&#39;s time.) Let&#39;s first write the component that&#39;s going to use it.</p>
<p>Make a file called PizzaOfTheDay.jsx</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { usePizzaOfTheDay } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./usePizzaOfTheDay&quot;</span>;

<span class="hljs-comment">// feel free to change en-US / USD to your locale</span>
<span class="hljs-keyword">const</span> intl = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">NumberFormat</span>(<span class="hljs-string">&quot;en-US&quot;</span>, {
  <span class="hljs-attr">style</span>: <span class="hljs-string">&quot;currency&quot;</span>,
  <span class="hljs-attr">currency</span>: <span class="hljs-string">&quot;USD&quot;</span>,
});

<span class="hljs-keyword">const</span> <span class="hljs-title function_">PizzaOfTheDay</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> pizzaOfTheDay = <span class="hljs-title function_">usePizzaOfTheDay</span>();

  <span class="hljs-keyword">if</span> (!pizzaOfTheDay) {
    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;pizza-of-the-day&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pizza of the Day<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;pizza-of-the-day-info&quot;</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{pizzaOfTheDay.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{pizzaOfTheDay.description}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;pizza-of-the-day-price&quot;</span>&gt;</span>
            From: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{intl.format(pizzaOfTheDay.sizes.S)}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;pizza-of-the-day-image&quot;</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">{pizzaOfTheDay.image}</span>
          <span class="hljs-attr">alt</span>=<span class="hljs-string">{pizzaOfTheDay.name}</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PizzaOfTheDay</span>;
</code></pre><ul>
<li>The cool part here is the <code>usePizzaOfTheDay()</code>. We now just get to rely on that this going to provide us with the pizza of the day from within the black box of the hook working.</li>
</ul>
<p>Okay, let&#39;s go make the hook! Make a file called usePizzaOfTheDay.jsx (you could call this .js instead of jsx but in a React project I just use JSX for all &quot;React-y&quot; things)</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">usePizzaOfTheDay</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> [pizzaOfTheDay, setPizzaOfTheDay] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchPizzaOfTheDay</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/api/pizza-of-the-day&quot;</span>);
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
      <span class="hljs-title function_">setPizzaOfTheDay</span>(data);
    }

    <span class="hljs-title function_">fetchPizzaOfTheDay</span>();
  }, []);

  <span class="hljs-keyword">return</span> pizzaOfTheDay;
};
</code></pre><ul>
<li>This looks like what you&#39;d see at the top of a component, right? Now it&#39;s just encapsulated as a hook which makes it easy to test by itself! 🎉</li>
<li>We can use <code>useState</code>, <code>useEffect</code>, or any hook we want here! We can even use other custom hooks!</li>
</ul>
<p>Lastly, let&#39;s go add this to App.jsx so our component renders.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// import at top</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PizzaOfTheDay</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./PizzaOfTheDay&quot;</span>;

<span class="hljs-comment">// under &lt;Order /&gt;</span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">PizzaOfTheDay</span> /&gt;</span></span>
</code></pre><p>You should now see the new component which uses our new hook at the bottom!</p>
<p>Let&#39;s add one more fun debugging technique made especially for custom hooks. Put this in usePizzaOfTheDay.jsx:</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// import useDebugValue</span>
<span class="hljs-keyword">import</span> { useState, useEffect, useDebugValue } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-comment">// add under the hook being used in the render function</span>
<span class="hljs-title function_">useDebugValue</span>(pizzaOfTheDay ? <span class="hljs-string">`<span class="hljs-subst">${pizzaOfTheDay.name}</span>`</span> : <span class="hljs-string">&quot;Loading...&quot;</span>);
</code></pre><p>Now open your React Dev Tools and inspect our PizzaOfTheDay component. You&#39;ll see our debug value there. This is helpful when you have <em>lots</em> of custom hooks and in particular lots of reused custom hooks that have differing values. It can help at a glance to discern which hook has which data inside of it.</p>
<blockquote>
<p>🏁 <a href="https://github.com/btholt/citr-v9-project/tree/master/06-custom-hooks">Click here to see the state of the project up until now: 06-custom-hooks</a></p>
</blockquote>
</div><div class="lesson-links"><a href="/lessons/core-react-concepts/dev-tools" class="prev">← Previous</a><a href="/lessons/core-react-concepts/handling-user-inputs" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="auto" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="auto"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"Learn about creating custom hooks in React with Brian Holt's Complete Intro to React, covering how to build and integrate a custom hook for fetching pizza of the day using React hooks for effective separation and testability. Brian demonstrates building a component and using debug tools to inspect React custom hooks efficiently.","keywords":["custom hooks","React hooks","Brian Holt","pizza of the day","debug value"]},"html":"\u003ch2\u003eCustom Hooks\u003c/h2\u003e\n\u003cp\u003eOne thing that\u0026#39;s pretty special about hooks is their composability. You can use hooks to make other hooks! People tend to call these custom hooks. There are even people who go as far to say \u0026quot;never make an API request in a component, always do it in a hook.\u0026quot; I don\u0026#39;t know if I\u0026#39;m as hardcore as that but I see the logic in it. If you make a custom hook for those sorts of things they become individually testable and do a good job to separate your display of data and your logic to acquire data. I\u0026#39;m more in the camp of make custom hooks for either complicated logic or reusable logic, but for simple cases it\u0026#39;s okay to keep things simple.\u003c/p\u003e\n\u003cp\u003eOkay, so we want to add a \u0026quot;Pizza of the Day\u0026quot; banner at the bottom of our page. This necessitates calling a special API to get the pizza of the day (which should change every day based on your computer\u0026#39;s time.) Let\u0026#39;s first write the component that\u0026#39;s going to use it.\u003c/p\u003e\n\u003cp\u003eMake a file called PizzaOfTheDay.jsx\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { usePizzaOfTheDay } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./usePizzaOfTheDay\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// feel free to change en-US / USD to your locale\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e intl = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eIntl\u003c/span\u003e.\u003cspan class=\"hljs-title class_\"\u003eNumberFormat\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;en-US\u0026quot;\u003c/span\u003e, {\n  \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;currency\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ecurrency\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;USD\u0026quot;\u003c/span\u003e,\n});\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ePizzaOfTheDay\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e pizzaOfTheDay = \u003cspan class=\"hljs-title function_\"\u003eusePizzaOfTheDay\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!pizzaOfTheDay) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003eLoading...\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;pizza-of-the-day\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u0026gt;\u003c/span\u003ePizza of the Day\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;pizza-of-the-day-info\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh3\u003c/span\u003e\u0026gt;\u003c/span\u003e{pizzaOfTheDay.name}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh3\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{pizzaOfTheDay.description}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;pizza-of-the-day-price\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            From: \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u0026gt;\u003c/span\u003e{intl.format(pizzaOfTheDay.sizes.S)}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eimg\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;pizza-of-the-day-image\u0026quot;\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{pizzaOfTheDay.image}\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003ealt\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{pizzaOfTheDay.name}\u003c/span\u003e\n        /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n};\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePizzaOfTheDay\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eThe cool part here is the \u003ccode\u003eusePizzaOfTheDay()\u003c/code\u003e. We now just get to rely on that this going to provide us with the pizza of the day from within the black box of the hook working.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOkay, let\u0026#39;s go make the hook! Make a file called usePizzaOfTheDay.jsx (you could call this .js instead of jsx but in a React project I just use JSX for all \u0026quot;React-y\u0026quot; things)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useState, useEffect } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eusePizzaOfTheDay\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [pizzaOfTheDay, setPizzaOfTheDay] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efetchPizzaOfTheDay\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e response = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efetch\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/pizza-of-the-day\u0026quot;\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e data = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e response.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e();\n      \u003cspan class=\"hljs-title function_\"\u003esetPizzaOfTheDay\u003c/span\u003e(data);\n    }\n\n    \u003cspan class=\"hljs-title function_\"\u003efetchPizzaOfTheDay\u003c/span\u003e();\n  }, []);\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e pizzaOfTheDay;\n};\n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eThis looks like what you\u0026#39;d see at the top of a component, right? Now it\u0026#39;s just encapsulated as a hook which makes it easy to test by itself! 🎉\u003c/li\u003e\n\u003cli\u003eWe can use \u003ccode\u003euseState\u003c/code\u003e, \u003ccode\u003euseEffect\u003c/code\u003e, or any hook we want here! We can even use other custom hooks!\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLastly, let\u0026#39;s go add this to App.jsx so our component renders.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// import at top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePizzaOfTheDay\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./PizzaOfTheDay\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// under \u0026lt;Order /\u0026gt;\u003c/span\u003e\n\u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ePizzaOfTheDay\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou should now see the new component which uses our new hook at the bottom!\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s add one more fun debugging technique made especially for custom hooks. Put this in usePizzaOfTheDay.jsx:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// import useDebugValue\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useState, useEffect, useDebugValue } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// add under the hook being used in the render function\u003c/span\u003e\n\u003cspan class=\"hljs-title function_\"\u003euseDebugValue\u003c/span\u003e(pizzaOfTheDay ? \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${pizzaOfTheDay.name}\u003c/span\u003e`\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;Loading...\u0026quot;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow open your React Dev Tools and inspect our PizzaOfTheDay component. You\u0026#39;ll see our debug value there. This is helpful when you have \u003cem\u003elots\u003c/em\u003e of custom hooks and in particular lots of reused custom hooks that have differing values. It can help at a glance to discern which hook has which data inside of it.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e🏁 \u003ca href=\"https://github.com/btholt/citr-v9-project/tree/master/06-custom-hooks\"\u003eClick here to see the state of the project up until now: 06-custom-hooks\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n","markdown":"\n## Custom Hooks\n\nOne thing that's pretty special about hooks is their composability. You can use hooks to make other hooks! People tend to call these custom hooks. There are even people who go as far to say \"never make an API request in a component, always do it in a hook.\" I don't know if I'm as hardcore as that but I see the logic in it. If you make a custom hook for those sorts of things they become individually testable and do a good job to separate your display of data and your logic to acquire data. I'm more in the camp of make custom hooks for either complicated logic or reusable logic, but for simple cases it's okay to keep things simple.\n\nOkay, so we want to add a \"Pizza of the Day\" banner at the bottom of our page. This necessitates calling a special API to get the pizza of the day (which should change every day based on your computer's time.) Let's first write the component that's going to use it.\n\nMake a file called PizzaOfTheDay.jsx\n\n```javascript\nimport { usePizzaOfTheDay } from \"./usePizzaOfTheDay\";\n\n// feel free to change en-US / USD to your locale\nconst intl = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n});\n\nconst PizzaOfTheDay = () =\u003e {\n  const pizzaOfTheDay = usePizzaOfTheDay();\n\n  if (!pizzaOfTheDay) {\n    return \u003cdiv\u003eLoading...\u003c/div\u003e;\n  }\n\n  return (\n    \u003cdiv className=\"pizza-of-the-day\"\u003e\n      \u003ch2\u003ePizza of the Day\u003c/h2\u003e\n      \u003cdiv\u003e\n        \u003cdiv className=\"pizza-of-the-day-info\"\u003e\n          \u003ch3\u003e{pizzaOfTheDay.name}\u003c/h3\u003e\n          \u003cp\u003e{pizzaOfTheDay.description}\u003c/p\u003e\n          \u003cp className=\"pizza-of-the-day-price\"\u003e\n            From: \u003cspan\u003e{intl.format(pizzaOfTheDay.sizes.S)}\u003c/span\u003e\n          \u003c/p\u003e\n        \u003c/div\u003e\n        \u003cimg\n          className=\"pizza-of-the-day-image\"\n          src={pizzaOfTheDay.image}\n          alt={pizzaOfTheDay.name}\n        /\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n};\n\nexport default PizzaOfTheDay;\n```\n\n- The cool part here is the `usePizzaOfTheDay()`. We now just get to rely on that this going to provide us with the pizza of the day from within the black box of the hook working.\n\nOkay, let's go make the hook! Make a file called usePizzaOfTheDay.jsx (you could call this .js instead of jsx but in a React project I just use JSX for all \"React-y\" things)\n\n```javascript\nimport { useState, useEffect } from \"react\";\n\nexport const usePizzaOfTheDay = () =\u003e {\n  const [pizzaOfTheDay, setPizzaOfTheDay] = useState(null);\n\n  useEffect(() =\u003e {\n    async function fetchPizzaOfTheDay() {\n      const response = await fetch(\"/api/pizza-of-the-day\");\n      const data = await response.json();\n      setPizzaOfTheDay(data);\n    }\n\n    fetchPizzaOfTheDay();\n  }, []);\n\n  return pizzaOfTheDay;\n};\n```\n\n- This looks like what you'd see at the top of a component, right? Now it's just encapsulated as a hook which makes it easy to test by itself! 🎉\n- We can use `useState`, `useEffect`, or any hook we want here! We can even use other custom hooks!\n\nLastly, let's go add this to App.jsx so our component renders.\n\n```javascript\n// import at top\nimport PizzaOfTheDay from \"./PizzaOfTheDay\";\n\n// under \u003cOrder /\u003e\n\u003cPizzaOfTheDay /\u003e\n```\n\nYou should now see the new component which uses our new hook at the bottom!\n\nLet's add one more fun debugging technique made especially for custom hooks. Put this in usePizzaOfTheDay.jsx:\n\n```javascript\n// import useDebugValue\nimport { useState, useEffect, useDebugValue } from \"react\";\n\n// add under the hook being used in the render function\nuseDebugValue(pizzaOfTheDay ? `${pizzaOfTheDay.name}` : \"Loading...\");\n```\n\nNow open your React Dev Tools and inspect our PizzaOfTheDay component. You'll see our debug value there. This is helpful when you have _lots_ of custom hooks and in particular lots of reused custom hooks that have differing values. It can help at a glance to discern which hook has which data inside of it.\n\n\u003e 🏁 [Click here to see the state of the project up until now: 06-custom-hooks][step]\n\n[step]: https://github.com/btholt/citr-v9-project/tree/master/06-custom-hooks\n","slug":"custom-hooks","title":"Custom Hooks","section":"Core React Concepts","icon":"book","filePath":"/home/runner/work/complete-intro-to-react-v9/complete-intro-to-react-v9/lessons/04-core-react-concepts/E-custom-hooks.md","nextSlug":"/lessons/core-react-concepts/handling-user-inputs","prevSlug":"/lessons/core-react-concepts/dev-tools"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"core-react-concepts","slug":"custom-hooks"},"buildId":"6cfMzZxR9Y4qzeGRDdjZd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>