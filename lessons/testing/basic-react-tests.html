<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/images/favicon.ico"/><title>Basic React Tests ‚Äì Complete Intro to React</title><meta name="description" content="Learn how to effectively test React components with a focus on functionality over implementation using React Testing Library, through this hands-on guide by Brian Holt. Gain insights into user-centric testing methodologies, writing bug-catching tests, and managing test lifecycle for enhanced app reliability, specifically applied to the Pizza.jsx component."/><meta name="keywords" content="React Testing,React,Vitest,Testing Library,React Components,Brian Holt,Pizza.jsx"/><meta name="og:description" content="Learn how to effectively test React components with a focus on functionality over implementation using React Testing Library, through this hands-on guide by Brian Holt. Gain insights into user-centric testing methodologies, writing bug-catching tests, and managing test lifecycle for enhanced app reliability, specifically applied to the Pizza.jsx component."/><meta name="og:title" content="Basic React Tests ‚Äì Complete Intro to React"/><meta name="og:image" content="/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="14"/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/2fea0762771cca66.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2fea0762771cca66.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-4e7214a60fad8e88.js" defer=""></script><script src="/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/_next/static/chunks/main-a6a08e1f60796d6f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8844ca430b4a38f8.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-f133ec3e69124099.js" defer=""></script><script src="/_next/static/6cfMzZxR9Y4qzeGRDdjZd/_buildManifest.js" defer=""></script><script src="/_next/static/6cfMzZxR9Y4qzeGRDdjZd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to React</a></h1><div class="navbar-info"><a href="https://holt.fyi/react" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>Let&#39;s write our first test for Pizza.jsx. In general, here&#39;s my methodology for testing React:</p>
<ul>
<li>Try to test functionality, not implementation. Make your tests interact with components as a user would, not as a developer would. This means you&#39;re trying to do more to think of things like &quot;what would a user see&quot; or &quot;if a user clicks a button a modal comes up&quot; rather than &quot;make sure this state is correct&quot; or &quot;ensure this library is called&quot;. This isn&#39;t a rule; sometimes you need to test those things too for assurance the app is working correctly. Use your best judgment.</li>
<li>Every UI I&#39;ve ever worked on changes a lot. Try to not unnecessarily spin your wheels on things that aren&#39;t important and are likely to change.</li>
<li>In general when I encounter a bug that is important for me to go back and fix, I&#39;ll write a test that would have caught that bug. Actually what I&#39;ll do is <em>before</em> I fix it, I&#39;ll write the test that fails. That way I fix it I&#39;ll know I won&#39;t regress back there.</li>
<li>Ask yourself what&#39;s important about your app and spend your time testing that. Ask yourself &quot;if a user couldn&#39;t do X then the app is worthless&quot; sort of questions and test those more thoroughly. If a user can&#39;t change themes then it&#39;s probably not the end of the world (a11y is important) so you can spend less time testing that but if a user can&#39;t log in then the app is worthless. Test that.</li>
<li>Delete tests on a regular basis. Tests have a shelf life.</li>
<li>Fix or delete flaky tests. Bad tests are worse than no tests.</li>
</ul>
<p>Okay, create a new file called <code>Pizza.test.jsx</code>. This naming convention is just habit. <code>Pizza.spec.jsx</code> is common too. But as long as it&#39;s in the <code>__tests__</code> directory it doesn&#39;t much matter what you call it.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@testing-library/react&quot;</span>;
<span class="hljs-keyword">import</span> { expect, test } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vitest&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Pizza</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../Pizza&quot;</span>;

<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;alt text renders on image&quot;</span>, <span class="hljs-title function_">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> name = <span class="hljs-string">&quot;My Favorite Pizza&quot;</span>;
  <span class="hljs-keyword">const</span> src = <span class="hljs-string">&quot;https://picsum.photos/200&quot;</span>;
  <span class="hljs-keyword">const</span> screen = <span class="hljs-title function_">render</span>(
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pizza</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">description</span>=<span class="hljs-string">&quot;super cool pizza&quot;</span> <span class="hljs-attr">image</span>=<span class="hljs-string">{src}</span> /&gt;</span></span>
  );

  <span class="hljs-keyword">const</span> img = screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&quot;img&quot;</span>);
  <span class="hljs-title function_">expect</span>(img.<span class="hljs-property">src</span>).<span class="hljs-title function_">toBe</span>(src);
  <span class="hljs-title function_">expect</span>(img.<span class="hljs-property">alt</span>).<span class="hljs-title function_">toBe</span>(name);
});
</code></pre><p>This is your most basic test. It renders a React component, and then starts running assertions on it. Here we&#39;re asserting that our pizza image ends up with the correct alt text on it. Not the most useful test but a good start for us seeing how to assert something. I could see this being useful if we had bugs that occasionally alt text wasn&#39;t showing up.</p>
<p>We&#39;re using getByRole here to grab the image on the page. In general React Testing Library wants you to adopt a user-centric mindset of how you&#39;re asserting things on the page. In this case we&#39;re trying to find an image which is something a user would see. Contrast that with using a CSS selector to select the image (which you can do, it&#39;s just frowned upon) which is very implementation-centric (a user doesn&#39;t know nor care about CSS classes.)</p>
<p>Let&#39;s add another test to make sure that we have a default image if pizza isn&#39;t passed an image.</p>
<blockquote>
<p>üö® This doesn&#39;t work yet. That&#39;s intentional.</p>
</blockquote>
<pre><code class="hljs language-javascript"><span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;to have default image if none is provided&quot;</span>, <span class="hljs-title function_">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> screen = <span class="hljs-title function_">render</span>(
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pizza</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{</span>&quot;<span class="hljs-attr">Cool</span> <span class="hljs-attr">Pizza</span>&quot;} <span class="hljs-attr">description</span>=<span class="hljs-string">&quot;super cool pizza&quot;</span> /&gt;</span></span>
  );

  <span class="hljs-keyword">const</span> img = screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&quot;img&quot;</span>);
  <span class="hljs-title function_">expect</span>(img.<span class="hljs-property">src</span>).<span class="hljs-property">not</span>.<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;&quot;</span>);
});
</code></pre><p>Well, first thing it is going to complain about is that we don&#39;t clean up after ourselves after each test. React Testing Library requires us to.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// at top</span>
<span class="hljs-keyword">import</span> { render, cleanup } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@testing-library/react&quot;</span>; <span class="hljs-comment">// add cleanup</span>
<span class="hljs-keyword">import</span> { afterEach, expect, test } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vitest&quot;</span>; <span class="hljs-comment">// add afterEach</span>
<span class="hljs-title function_">afterEach</span>(cleanup);
</code></pre><p>The test still doesn&#39;t pass? Oh, that&#39;s because it caught a bug! If you don&#39;t give it a image, it just breaks. That&#39;s not a good user experience. Let&#39;s go fix it in Pizza.jsx.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// replace src</span>
src={props.<span class="hljs-property">image</span> ? props.<span class="hljs-property">image</span> : <span class="hljs-string">&quot;https://picsum.photos/200&quot;</span>}
</code></pre><p>Now it works!</p>
<p>Bam! Some easy React testing there for you.</p>
</div><div class="lesson-links"><a href="/lessons/testing/vitest" class="prev">‚Üê Previous</a><a href="/lessons/testing/testing-user-interaction" class="next">Next ‚Üí</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg fill="none" height="auto" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://bsky.app/profile/brianholt.me"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3.268 64 68.414" width="38" height="auto"><path fill="var(--footer-icons)" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"></path></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"Learn how to effectively test React components with a focus on functionality over implementation using React Testing Library, through this hands-on guide by Brian Holt. Gain insights into user-centric testing methodologies, writing bug-catching tests, and managing test lifecycle for enhanced app reliability, specifically applied to the Pizza.jsx component.","keywords":["React Testing","React","Vitest","Testing Library","React Components","Brian Holt","Pizza.jsx"]},"html":"\u003cp\u003eLet\u0026#39;s write our first test for Pizza.jsx. In general, here\u0026#39;s my methodology for testing React:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTry to test functionality, not implementation. Make your tests interact with components as a user would, not as a developer would. This means you\u0026#39;re trying to do more to think of things like \u0026quot;what would a user see\u0026quot; or \u0026quot;if a user clicks a button a modal comes up\u0026quot; rather than \u0026quot;make sure this state is correct\u0026quot; or \u0026quot;ensure this library is called\u0026quot;. This isn\u0026#39;t a rule; sometimes you need to test those things too for assurance the app is working correctly. Use your best judgment.\u003c/li\u003e\n\u003cli\u003eEvery UI I\u0026#39;ve ever worked on changes a lot. Try to not unnecessarily spin your wheels on things that aren\u0026#39;t important and are likely to change.\u003c/li\u003e\n\u003cli\u003eIn general when I encounter a bug that is important for me to go back and fix, I\u0026#39;ll write a test that would have caught that bug. Actually what I\u0026#39;ll do is \u003cem\u003ebefore\u003c/em\u003e I fix it, I\u0026#39;ll write the test that fails. That way I fix it I\u0026#39;ll know I won\u0026#39;t regress back there.\u003c/li\u003e\n\u003cli\u003eAsk yourself what\u0026#39;s important about your app and spend your time testing that. Ask yourself \u0026quot;if a user couldn\u0026#39;t do X then the app is worthless\u0026quot; sort of questions and test those more thoroughly. If a user can\u0026#39;t change themes then it\u0026#39;s probably not the end of the world (a11y is important) so you can spend less time testing that but if a user can\u0026#39;t log in then the app is worthless. Test that.\u003c/li\u003e\n\u003cli\u003eDelete tests on a regular basis. Tests have a shelf life.\u003c/li\u003e\n\u003cli\u003eFix or delete flaky tests. Bad tests are worse than no tests.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOkay, create a new file called \u003ccode\u003ePizza.test.jsx\u003c/code\u003e. This naming convention is just habit. \u003ccode\u003ePizza.spec.jsx\u003c/code\u003e is common too. But as long as it\u0026#39;s in the \u003ccode\u003e__tests__\u003c/code\u003e directory it doesn\u0026#39;t much matter what you call it.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { render } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@testing-library/react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { expect, test } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;vitest\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePizza\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../Pizza\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;alt text renders on image\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e () =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e name = \u003cspan class=\"hljs-string\"\u003e\u0026quot;My Favorite Pizza\u0026quot;\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e src = \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://picsum.photos/200\u0026quot;\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e screen = \u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ePizza\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{name}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;super cool pizza\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{src}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e img = screen.\u003cspan class=\"hljs-title function_\"\u003egetByRole\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;img\u0026quot;\u003c/span\u003e);\n  \u003cspan class=\"hljs-title function_\"\u003eexpect\u003c/span\u003e(img.\u003cspan class=\"hljs-property\"\u003esrc\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003etoBe\u003c/span\u003e(src);\n  \u003cspan class=\"hljs-title function_\"\u003eexpect\u003c/span\u003e(img.\u003cspan class=\"hljs-property\"\u003ealt\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003etoBe\u003c/span\u003e(name);\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis is your most basic test. It renders a React component, and then starts running assertions on it. Here we\u0026#39;re asserting that our pizza image ends up with the correct alt text on it. Not the most useful test but a good start for us seeing how to assert something. I could see this being useful if we had bugs that occasionally alt text wasn\u0026#39;t showing up.\u003c/p\u003e\n\u003cp\u003eWe\u0026#39;re using getByRole here to grab the image on the page. In general React Testing Library wants you to adopt a user-centric mindset of how you\u0026#39;re asserting things on the page. In this case we\u0026#39;re trying to find an image which is something a user would see. Contrast that with using a CSS selector to select the image (which you can do, it\u0026#39;s just frowned upon) which is very implementation-centric (a user doesn\u0026#39;t know nor care about CSS classes.)\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s add another test to make sure that we have a default image if pizza isn\u0026#39;t passed an image.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüö® This doesn\u0026#39;t work yet. That\u0026#39;s intentional.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;to have default image if none is provided\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e () =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e screen = \u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ePizza\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e\u0026quot;\u003cspan class=\"hljs-attr\"\u003eCool\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ePizza\u003c/span\u003e\u0026quot;} \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;super cool pizza\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e img = screen.\u003cspan class=\"hljs-title function_\"\u003egetByRole\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;img\u0026quot;\u003c/span\u003e);\n  \u003cspan class=\"hljs-title function_\"\u003eexpect\u003c/span\u003e(img.\u003cspan class=\"hljs-property\"\u003esrc\u003c/span\u003e).\u003cspan class=\"hljs-property\"\u003enot\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etoBe\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWell, first thing it is going to complain about is that we don\u0026#39;t clean up after ourselves after each test. React Testing Library requires us to.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// at top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { render, cleanup } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@testing-library/react\u0026quot;\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// add cleanup\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { afterEach, expect, test } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;vitest\u0026quot;\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// add afterEach\u003c/span\u003e\n\u003cspan class=\"hljs-title function_\"\u003eafterEach\u003c/span\u003e(cleanup);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe test still doesn\u0026#39;t pass? Oh, that\u0026#39;s because it caught a bug! If you don\u0026#39;t give it a image, it just breaks. That\u0026#39;s not a good user experience. Let\u0026#39;s go fix it in Pizza.jsx.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// replace src\u003c/span\u003e\nsrc={props.\u003cspan class=\"hljs-property\"\u003eimage\u003c/span\u003e ? props.\u003cspan class=\"hljs-property\"\u003eimage\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://picsum.photos/200\u0026quot;\u003c/span\u003e}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow it works!\u003c/p\u003e\n\u003cp\u003eBam! Some easy React testing there for you.\u003c/p\u003e\n","markdown":"\nLet's write our first test for Pizza.jsx. In general, here's my methodology for testing React:\n\n- Try to test functionality, not implementation. Make your tests interact with components as a user would, not as a developer would. This means you're trying to do more to think of things like \"what would a user see\" or \"if a user clicks a button a modal comes up\" rather than \"make sure this state is correct\" or \"ensure this library is called\". This isn't a rule; sometimes you need to test those things too for assurance the app is working correctly. Use your best judgment.\n- Every UI I've ever worked on changes a lot. Try to not unnecessarily spin your wheels on things that aren't important and are likely to change.\n- In general when I encounter a bug that is important for me to go back and fix, I'll write a test that would have caught that bug. Actually what I'll do is _before_ I fix it, I'll write the test that fails. That way I fix it I'll know I won't regress back there.\n- Ask yourself what's important about your app and spend your time testing that. Ask yourself \"if a user couldn't do X then the app is worthless\" sort of questions and test those more thoroughly. If a user can't change themes then it's probably not the end of the world (a11y is important) so you can spend less time testing that but if a user can't log in then the app is worthless. Test that.\n- Delete tests on a regular basis. Tests have a shelf life.\n- Fix or delete flaky tests. Bad tests are worse than no tests.\n\nOkay, create a new file called `Pizza.test.jsx`. This naming convention is just habit. `Pizza.spec.jsx` is common too. But as long as it's in the `__tests__` directory it doesn't much matter what you call it.\n\n```javascript\nimport { render } from \"@testing-library/react\";\nimport { expect, test } from \"vitest\";\nimport Pizza from \"../Pizza\";\n\ntest(\"alt text renders on image\", async () =\u003e {\n  const name = \"My Favorite Pizza\";\n  const src = \"https://picsum.photos/200\";\n  const screen = render(\n    \u003cPizza name={name} description=\"super cool pizza\" image={src} /\u003e\n  );\n\n  const img = screen.getByRole(\"img\");\n  expect(img.src).toBe(src);\n  expect(img.alt).toBe(name);\n});\n```\n\nThis is your most basic test. It renders a React component, and then starts running assertions on it. Here we're asserting that our pizza image ends up with the correct alt text on it. Not the most useful test but a good start for us seeing how to assert something. I could see this being useful if we had bugs that occasionally alt text wasn't showing up.\n\nWe're using getByRole here to grab the image on the page. In general React Testing Library wants you to adopt a user-centric mindset of how you're asserting things on the page. In this case we're trying to find an image which is something a user would see. Contrast that with using a CSS selector to select the image (which you can do, it's just frowned upon) which is very implementation-centric (a user doesn't know nor care about CSS classes.)\n\nLet's add another test to make sure that we have a default image if pizza isn't passed an image.\n\n\u003e üö® This doesn't work yet. That's intentional.\n\n```javascript\ntest(\"to have default image if none is provided\", async () =\u003e {\n  const screen = render(\n    \u003cPizza name={\"Cool Pizza\"} description=\"super cool pizza\" /\u003e\n  );\n\n  const img = screen.getByRole(\"img\");\n  expect(img.src).not.toBe(\"\");\n});\n```\n\nWell, first thing it is going to complain about is that we don't clean up after ourselves after each test. React Testing Library requires us to.\n\n```javascript\n// at top\nimport { render, cleanup } from \"@testing-library/react\"; // add cleanup\nimport { afterEach, expect, test } from \"vitest\"; // add afterEach\nafterEach(cleanup);\n```\n\nThe test still doesn't pass? Oh, that's because it caught a bug! If you don't give it a image, it just breaks. That's not a good user experience. Let's go fix it in Pizza.jsx.\n\n```javascript\n// replace src\nsrc={props.image ? props.image : \"https://picsum.photos/200\"}\n```\n\nNow it works!\n\nBam! Some easy React testing there for you.\n","slug":"basic-react-tests","title":"Basic React Tests","section":"Testing","icon":"vial","filePath":"/home/runner/work/complete-intro-to-react-v9/complete-intro-to-react-v9/lessons/07-testing/B-basic-react-tests.md","nextSlug":"/lessons/testing/testing-user-interaction","prevSlug":"/lessons/testing/vitest"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"testing","slug":"basic-react-tests"},"buildId":"6cfMzZxR9Y4qzeGRDdjZd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>